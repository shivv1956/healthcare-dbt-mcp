version: 2

models:
  - name: stg_payer_transitions
    description: "HL7 Insurance Coverage / Patient-Payer relationship"

    # tests:
    #   - dbt_utils.unique_combination_of_columns:
    #       combination_of_columns:
    #         - patient_id
    #         - payer_id
    #         - start_year

    columns:
      - name: patient_id
        description: "Unique identifier for the patient"
        tests: 
          - not_null

      - name: payer_id
        description: "Identifier for the payer"
        tests: 
          - not_null

      - name: start_year
        description: "Year when coverage started"
        tests: 
          - not_null

      - name: end_year
        description: "Year when coverage ended"
        tests: 
          - not_null
